# AutoBlue

一个普普通通的挂机脚本，使用了色块识别、模拟手柄输入、模拟鼠标输入的第三方库

## 开始使用

将本项目下载到本地，然后在项目文件夹运行：

```
pip install -r requirements.txt
```

这将会安装所需要的第三方库

第一次使用之前，你需要进行本机适配。

你需要获取你的客户端的血条的坐标，下载抓抓工具
https://wwuh.lanzout.com/iAItC115cv2d
打开抓抓工具之后，随便找一个怪，将鼠标瞄准在它血条的最左边但再往右留几格像素，并且要求瞄准的那颗像素点尽量在血条的垂直中心。此时按下ctrl+alt+1，抓抓工具会显示你获取到的这个位置的坐标。

再用同样方法获取你自己的血条的坐标，此时不是最左边了，大概在你血条80%的位置即可。（v.0.2-Alpha-v2版本及以后若不使用弓箭手可以不设置血条坐标）

打开本项目的main.py，找到这段：

```python
target_x = 821
target_y = 61
hp_x = 831
hp_y = 1045
```
将你刚刚获取到的坐标，如821,61分别修改到target_x与target_y中。

默认情况下，第三个3主动技能和第二个战斗幻想和右键作为生命恢复手段，如果不想更改代码请更改游戏内键位。

现在可以运行本脚本。

```python
py main.py
```

## 脚本逻辑

- 工作流程是：启动-重置当前视角-旋转搜索目标-锁定目标-进入技能循环-目标死亡-再次搜索目标
- 其中：目标死亡：可能会发生锁定丢失的情况，这种情况下会在设定的时间经过后强制搜索新的目标
- 还有：旋转搜索目标：可能因为视角过于诡异导致转了很多圈也搜不到敌人，这个时候会在设定的时间经过了之后重置视角
- 还有：任意时刻：血量过低的时候自动进入血量回复循环（仅限弓箭手）
- 使用vgamepad库进行手柄模拟输入，使用pyautogui库进行鼠标滚轮的输入

## 自定义设置

待补充

## 更新日志

- v0.1 使用按键精灵进行尝试 识别指定位置(目标血条)的颜色 如果有血条 自动按下平a 自动滚轮向下滚1格来实现切怪，以攻击同屏幕所有小怪
- v0.2 因不能旋转视角遂改用python，使用vgamepad库进行手柄模拟输入，使用pyautogui库进行鼠标滚轮的输入
